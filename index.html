<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>    <!-- Metadata, OpenGraph and Schema.org -->
    
    <!-- Website verification -->
    <meta name="google-site-verification" content="Bik7o47t8LWfR18eH4FK_fZzR3_xWyOReXlg-WUpm-I" />

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Yaniv Yacoby</title>
    <meta name="author" content="Yaniv Yacoby" />
    <meta name="description" content="Yaniv Yacoby, machine learning researcher and musician based in Boston.
" />
    <meta name="keywords" content="Probabilistic Machine Learning, Uncertainty Quantification, Approximate Inference, Deep Bayesian Models, Latent Variable Models" />


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light" />

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üê†Ô∏è</text></svg>">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://yanivyacoby.github.io/">
    
    <!-- Dark Mode -->
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav sticky-bottom-footer">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item active">
                <a class="nav-link" href="/">About<span class="sr-only">(current)</span></a>
              </li>
              

              <!-- Other pages -->
              <li class="nav-item ">
		
                <a class="nav-link" href="https://mogu-lab.github.io/" target="_blank" rel="noopener noreferrer">Lab</a>
              </li>
              <li class="nav-item ">
		
                <a class="nav-link" href="/publications">Publications</a>
              </li>
              <li class="nav-item ">
		
                <a class="nav-link" href="/teaching">Teaching</a>
              </li>
              <li class="nav-item ">
		
                <a class="nav-link" href="/advocacy">Advocacy</a>
              </li>
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Music</a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
		  
                  <a class="dropdown-item" href="/music">Listen &amp; Watch</a>
                  <div class="dropdown-divider"></div>
		  
                  <a class="dropdown-item" href="/performances">Performances</a>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      
      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>      
    </header>


    <!-- Content -->
    <div class="container mt-5">
      <!-- about.html -->
      <div class="post">

	<div class="profile">
	  <div class="row">
	    <div class="left-column-title">
	      <center>
		<header class="post-header">
		  <h3 class="post-title">
		    Yaniv Yacoby
		  </h3>
		</header>
	      </center>
	    </div>
	    <div class="right-column">
	    </div>
	    
	    <div class="left-column">
	      <center>
<figure>

  <picture>
    <source media="(max-width: 480px)" srcset="/assets/img/prof_pic-480.webp"></source>
    <source media="(max-width: 800px)" srcset="/assets/img/prof_pic-800.webp"></source>
    <source media="(max-width: 1400px)" srcset="/assets/img/prof_pic-1400.webp"></source>
    <!-- Fallback to the original file -->
    <img class="img-fluid z-dept-1 rounded img" src="/assets/img/prof_pic.png" alt="prof_pic.png">

  </picture>

</figure>
</center>
	    </div>
	    <div class="right-column-vertical-center">
	      <div class="social-list">
  <p><i class="fas fa-landmark"></i> Faculty @ <a href="https://www.wellesley.edu/departments-programs/department/computer-science" target="_blank" rel="noopener noreferrer">Wellesley CS</a></p>     
  <p><i class="fas fa-paw"></i> he/they</p>
  <p><i class="fas fa-envelope"></i> yy109[at]wellesley[dot]edu</p>
  <p><a href="https://www.google.com/maps/place/42%C2%B017'37.8%22N+71%C2%B018'10.2%22W/@42.2938392,-71.3033434,17.6z/data=!3m1!5s0x89e386c429b213d5:0x79736835f6323310!4m12!1m7!3m6!1s0x89e386c3eaae82cf:0x6ef22d5031dedc96!2sScience+Center!8m2!3d42.2940907!4d-71.3072745!16s%2Fg%2F1thvz8wk!3m3!8m2!3d42.293844!4d-71.302835" target="_blank" rel="noopener noreferrer noopener noreferrer"><i class="fas fa-location-dot"></i> Science Center W126</a></p>
  <p><a href="https://scholar.google.com/citations?user=nEhVgawAAAAJ&amp;hl=en" target="_blank" rel="noopener noreferrer"><i class="fas fa-book"></i> google scholar</a></p> <!-- ai ai-google-scholar-square -->
  <p><a href="/assets/pdf/Yaniv_Yacoby_cv.pdf" target="_blank" rel="noopener noreferrer"><i class="fas fa-seedling"></i> curriculum vitae</a></p>      
  <p><a href="/music"><i class="fas fa-guitar"></i> music</a></p>      
</div>

	    </div>
	  </div>
	</div>


	<div>
          <p>I‚Äôm an <strong>Assistant Professor</strong> of Computer Science at <a href="https://wellesley.edu/" target="_blank" rel="noopener noreferrer">Wellesley College</a>, where I lead the <a href="https://mogu-lab.github.io/" target="_blank" rel="noopener noreferrer">Model-Guided Uncertainty (MOGU) Lab</a>. My research focuses on developing new machine learning methods to advance the understanding, prediction, and prevention of suicide and related behaviors.</p>

<p>Before joining Wellesley, I was a <strong>postdoctoral fellow</strong> at the <a href="https://nocklab.fas.harvard.edu/" target="_blank" rel="noopener noreferrer">Nock Lab</a> in the Department of Psychology at Harvard University and Mass General Hospital. I completed my <strong>Ph.D.</strong> in Machine Learning at the <a href="https://dtak.github.io/" target="_blank" rel="noopener noreferrer">Data to Actionable Knowledge Lab</a> (DtAK) at Harvard, working with Professor <a href="https://finale.seas.harvard.edu/" target="_blank" rel="noopener noreferrer">Finale Doshi-Velez</a>. I had the pleasure of interning with the <a href="https://www.microsoft.com/en-us/research/theme/biomedical-ml/" target="_blank" rel="noopener noreferrer">Biomedical-ML team</a> at Microsoft Research New England (Summer 2021). Lastly, I received a <strong>Master‚Äôs of Music</strong> in Contemporary Improvisation from the <a href="https://necmusic.edu/dual-degree-programs" target="_blank" rel="noopener noreferrer">New England Conservatory</a> (2016) and a <strong>Bachelor‚Äôs of Arts</strong> in Computer Science from Harvard University (2015). I am currently a performing <a href="/music">musician</a>.</p>

<!--
## Research

My goal is to empower individuals to effectively utilize Machine Learning by making the consequences of modeling assumptions and inference decisions transparent.
Specifically, I develop deep probabilistic/Bayesian models and approximate inference methods designed for safety-critical domains, such as precision healthcare.
My work has exposed failure mechanisms in a number of popular methods, and provides ways to mitigate these failures.
My work has also explored how people (mis)understand popular techniques for explainable AI.


## Teaching

My goal is to create classroom environments and mentorship experiences that (a) build student ability to independently interrogate technological systems in societal contexts, (b) that develop effective research skills (e.g. technical reading, writing, communication), and (c) help students overcome common psychological barriers to learning (e.g. imposter phenomenon) using cohort-building and discussion of academic culture. See my [here](/advocacy) for more info.
-->

	</div>

	
        
        <!-- Selected papers -->
          <div class="publications">
            <h2>Selected Publications</h2>

	    <p>
	      For a complete list, see my <a href="/publications">publications</a> page.
	    </p>
	    
            <ol class="bibliography">
<li>
<!-- _layouts/bib.html -->
      <div class="row">
        <div class="col-sm-2 abbr"><abbr class="badge"><a href="http://sigcse2026.sigcse.org/" target="_blank" rel="noopener noreferrer">
	       SIGCSE
	  </a></abbr></div>

        <!-- Entry bib key -->
        <div id="yacoby2026teaching" class="col-sm-8">
        
          <!-- Title -->
          <div class="title">Teaching Probabilistic Machine Learning in the Liberal Arts: Empowering Socially and Mathematically Informed AI Discourse</div>
          <!-- Author -->
          <div class="author">
	    <!-- Define format for author names -->
	    
                <em><strong>Y Yacoby</strong></em>
          </div>

          <!-- Journal/Book title and date -->
          <!-- Workshop title and date -->
	  	  
	  
          <div class="periodical">
             Accepted @  <em>SIGCSE</em> 2026

	    
          </div>

          
          
          <!-- Links/Buttons -->
          <div class="links">
            <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a>
            <a href="https://arxiv.org/abs/2510.25049" class="btn btn-sm z-depth-0" role="button" target="_blank" rel="noopener noreferrer">PDF</a>	    
          </div>

          <!-- Hidden abstract block -->
          <div class="abstract hidden">
            <p>We present a new undergraduate ML course at our institution, a small liberal arts college serving students minoritized in STEM, designed to empower students to critically connect the mathematical foundations of ML with its sociotechnical implications. We propose a "framework-focused" approach, teaching students the language and formalism of probabilistic modeling while leveraging probabilistic programming to lower mathematical barriers. We introduce methodological concepts through a whimsical, yet realistic theme, the "Intergalactic Hypothetical Hospital," to make the content both relevant and accessible. Finally, we pair each technical innovation with counter-narratives that challenge its value using real, open-ended case-studies to cultivate dialectical thinking. By encouraging creativity in modeling and highlighting unresolved ethical challenges, we help students recognize the value and need of their unique perspectives, empowering them to participate confidently in AI discourse as technologists and critical citizens.</p>
          </div>
        </div>
      </div>
</li>
<li>
<!-- _layouts/bib.html -->
      <div class="row">
        <div class="col-sm-2 abbr"><abbr class="badge">
	     ICML MOSS
	  </abbr></div>

        <!-- Entry bib key -->
        <div id="liu2025neural" class="col-sm-8">
        
          <!-- Title -->
          <div class="title">Neural Stochastic Differential Equations on Compact State-Spaces</div>
          <!-- Author -->
          <div class="author">
	    <!-- Define format for author names -->
	    <a href="https://scholar.google.com/citations?user=EfSfs6MAAAAJ&amp;hl=en" class="undergrad" target="_blank" rel="noopener noreferrer">Y Liu</a>,¬†
	    <!-- Define format for author names -->
	    <a href="https://www.linkedin.com/in/malindalu/" class="undergrad" target="_blank" rel="noopener noreferrer">M Lu</a>,¬†
	    <!-- Define format for author names -->
	    <a href="https://nocklab.fas.harvard.edu/people" target="_blank" rel="noopener noreferrer">M Nock</a>,¬†
	    <!-- Define format for author names -->
	    and <em><strong>Y Yacoby</strong></em>
                
          </div>

          <!-- Journal/Book title and date -->
          <!-- Workshop title and date -->
	  	  
	  
          <div class="periodical">
             Accepted @  <em>ICML MOSS</em> 2025

	    
          </div>

          
          
          <!-- Links/Buttons -->
          <div class="links">
            <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a>
            <a href="https://arxiv.org/abs/2508.17090" class="btn btn-sm z-depth-0" role="button" target="_blank" rel="noopener noreferrer">PDF</a>	    
          </div>

          <!-- Hidden abstract block -->
          <div class="abstract hidden">
            <p>Many modern probabilistic models rely on SDEs, but their adoption is hampered by instability, poor inductive bias outside bounded domains, and reliance on restrictive dynamics or training tricks.  While recent work constrains SDEs to compact spaces using reflected dynamics, these approaches lack continuous dynamics and efficient high-order solvers, limiting interpretability and applicability.  We propose a novel class of neural SDEs on compact polyhedral spaces with continuous dynamics, amenable to higher-order solvers, and with favorable inductive bias.</p>
          </div>
        </div>
      </div>
</li>
<li>
<!-- _layouts/bib.html -->
      <div class="row">
        <div class="col-sm-2 abbr"><abbr class="badge"><a href="http://approximateinference.org/" target="_blank" rel="noopener noreferrer">
	       AABI
	  </a></abbr></div>

        <!-- Entry bib key -->
        <div id="yacoby2020mapa" class="col-sm-8">
        
          <!-- Title -->
          <div class="title">Towards Model-Agnostic Posterior Approximation for Fast and Accurate Variational Autoencoders</div>
          <!-- Author -->
          <div class="author">
	    <!-- Define format for author names -->
	    
                  <em><strong>Y Yacoby</strong></em>,¬†
	    <!-- Define format for author names -->
	    <a href="https://onefishy.github.io/" target="_blank" rel="noopener noreferrer">W Pan</a>,¬†
	    <!-- Define format for author names -->
	    and <a href="https://finale.seas.harvard.edu/" target="_blank" rel="noopener noreferrer">F Doshi-Velez</a>
                  
          </div>

          <!-- Journal/Book title and date -->
          <!-- Workshop title and date -->
	  	  
	  
          <div class="periodical">
             Accepted @  <em>Workshop at AABI</em> 2024

	    
          </div>

          
          
          <!-- Links/Buttons -->
          <div class="links">
            <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a>
            <a href="https://arxiv.org/abs/2403.08941" class="btn btn-sm z-depth-0" role="button" target="_blank" rel="noopener noreferrer">PDF</a>	    
          </div>

          <!-- Hidden abstract block -->
          <div class="abstract hidden">
            <p>Inference for Variational Autoencoders (VAEs) consists of learning two models: (1) a generative model, which transforms a simple distribution over a latent space into the distribution over observed data, and (2) an inference model, which approximates the posterior of the latent codes given data. The two components are learned jointly via a lower bound to the generative model‚Äôs log marginal likelihood. In early phases of joint training, the inference model poorly approximates the latent code posteriors. Recent work showed that this leads optimization to get stuck in local optima, negatively impacting the learned generative model. As such, recent work suggests ensuring a high-quality inference model via iterative training: maximizing the objective function relative to the inference model before every update to the generative model. Unfortunately, iterative training is inefficient, requiring heuristic criteria for reverting from iterative to joint training for speed. Here, we suggest an inference method that trains the generative and inference models independently. It approximates the posterior of the true model a priori; fixing this posterior approximation, we then maximize the lower bound relative to only the generative model. By conventional wisdom, this approach should rely on the true prior and likelihood of the true model to approximate its posterior (which are unknown). However, we show that we can compute a deterministic, model-agnostic posterior approximation (MAPA) of the true model‚Äôs posterior. We then use MAPA to develop a proof-of-concept inference method. We present preliminary results on low-dimensional synthetic data that (1) MAPA captures the trend of the true posterior, and (2) our MAPA-based inference performs better density estimation with less computation than baselines. Lastly, we present a roadmap for scaling the MAPA-based inference method to high-dimensional data.</p>
          </div>
        </div>
      </div>
</li>
<li>
<!-- _layouts/bib.html -->
      <div class="row">
        <div class="col-sm-2 abbr">
<abbr class="badge"><a href="https://jmlr.org/" target="_blank" rel="noopener noreferrer">
	       JMLR
	  </a></abbr><abbr class="badge">
	     ICML UDL
	  </abbr>
</div>

        <!-- Entry bib key -->
        <div id="yacoby2019mitigating" class="col-sm-8">
        
          <!-- Title -->
          <div class="title">Mitigating the Effects of Non-Identifiability on Inference for Bayesian Neural Networks with Latent Variables</div>
          <!-- Author -->
          <div class="author">
	    <!-- Define format for author names -->
	    
                  <em><strong>*Y Yacoby</strong></em>,¬†
	    <!-- Define format for author names -->
	    <a href="https://onefishy.github.io/" target="_blank" rel="noopener noreferrer">*W Pan</a>,¬†
	    <!-- Define format for author names -->
	    and <a href="https://finale.seas.harvard.edu/" target="_blank" rel="noopener noreferrer">F Doshi-Velez</a>
                  
          </div>

          <!-- Journal/Book title and date -->
          <!-- Workshop title and date -->
	  	  
	  
          <div class="periodical">
             Accepted @  <em>JMLR</em> 2022

	    
	    <br>
	    Previous version accepted @ <em>ICML UDL</em>  2019
              <abbr class="badge talk">Spotlight Talk</abbr>	    
	    
          </div>

          
          
          <!-- Links/Buttons -->
          <div class="links">
            <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a>
            <a href="https://arxiv.org/abs/1911.00569" class="btn btn-sm z-depth-0" role="button" target="_blank" rel="noopener noreferrer">PDF</a>	    
          </div>

          <!-- Hidden abstract block -->
          <div class="abstract hidden">
            <p>Bayesian Neural Networks with Latent Variables (BNN+LVs) capture predictive uncertainty by explicitly modeling model uncertainty (via priors on network weights) and environmental stochasticity (via a latent input noise variable). In this work, we first show that BNN+LV suffers from a serious form of non-identifiability: explanatory power can be transferred between the model parameters and latent variables while fitting the data equally well. We demonstrate that as a result, in the limit of infinite data, the posterior mode over the network weights and latent variables is asymptotically biased away from the ground-truth. Due to this asymptotic bias, traditional inference methods may in practice yield parameters that generalize poorly and misestimate uncertainty. Next, we develop a novel inference procedure that explicitly mitigates the effects of likelihood non-identifiability during training and yields high-quality predictions as well as uncertainty estimates. We demonstrate that our inference method improves upon benchmark methods across a range of synthetic and real data-sets.</p>
          </div>
        </div>
      </div>
</li>
</ol>
          </div>
	
</div>

    </div>

    <!-- Footer -->    <footer class="sticky-bottom mt-5">
      <div class="container" style="text-align: center;">
        ¬© Copyright 2025 <a href="/">Yaniv  Yacoby</a>. Adapted from the <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme.

      </div>
    </footer>


    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script src="/assets/js/common.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KB54ZTDTNF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-KB54ZTDTNF');
  </script>
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>
  </body>
</html>

